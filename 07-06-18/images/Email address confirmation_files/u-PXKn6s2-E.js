if (self.CavalryLogger) { CavalryLogger.start_js(["m2um9"]); }

__d("AppInstallLoggerEvents",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({IMPRESSION:"impression",CLICK:"click",INSTALL:"install",XOUT:"xout",RANKED_IMPRESSION:"ranked_impression",CANVAS_VISIT:"canvas_visit",APP_SESSION_START:"session_start",CANVAS_IFRAME_LOAD:"canvas_iframe_load",APP_POPOVER_RENDER:"app_popover_render",APP_PAGE_RENDER:"app_page_render",APPCENTER_MENU_RENDER:"appcenter_menu_render",APPCENTER_HOMEPAGE_RENDER:"appcenter_homepage_render",APPCENTER_MANAGE_RENDER:"appcenter_manage_render",APPCENTER_REQUESTS_RENDER:"appcenter_requests_render",APPCENTER_INVITES_RENDER:"appcenter_invites_render",APPCENTER_TOP_LISTS_RENDER:"appcenter_top_lists_render",APPCENTER_QUERY_RESULTS_RENDER:"appcenter_query_results_render",GAMES_LOGIN_PAGE_ONE_RENDER:"games_login_page_one_render",GAMES_LOGIN_PAGE_TWO_RENDER:"games_login_page_two_render",GAMES_LOGIN_PAGE_ONE_XOUT:"games_login_page_one_xout",GAMES_LOGIN_PAGE_TWO_XOUT:"games_login_page_two_xout",GAMES_LOGIN_NEXT_PAGE:"games_login_next_page",GAMES_LOGIN_PREV_PAGE:"games_login_prev_page",GAMES_LOGIN_SOCIAL_LOGIN:"games_login_social_login",GAMES_LOGIN_SOCIAL_LOGIN_SUCCESS:"games_login_social_login_success",GAMES_LOGIN_SINGLE_ANONYMOUS_LOGIN:"games_login_single_anonymous_login",GAMES_LOGIN_ALWAYS_ANONYMOUS_LOGIN:"games_login_always_anonymous_login",GAMES_LOGIN_AUTO_LOGIN:"games_login_auto_login",GAMES_LOGIN_UNSIGNED_RENDER:"games_login_unsigned_render",GAMES_LOGIN_UNSIGNED_SOCIAL_LOGIN:"games_login_unsigned_social_login",GAMES_LOGIN_UNSIGNED_ANONYMOUS_LOGIN:"games_login_unsigned_anonymous_login",GAMES_LOGIN_UNSIGNED_XOUT:"games_login_unsigned_xout",GAMES_LOGIN_LEARN_MORE_CLICK:"games_login_learn_more",GAMES_LOGIN_EDIT_SETTINGS:"games_login_edit_settings",GAMES_LOGIN_SOCIAL_UPGRADE_BUTTON_CLICK:"games_login_social_upgrade_button_click",GAMES_LOGIN_SOCIAL_UPGRADE_IMPRESSION:"games_login_social_upgrade_impression",GAMES_LOGIN_SOCIAL_UPGRADE_SUCCESS:"games_login_social_upgrade_success",GAMES_LOGIN_XOUT_SOCIAL_IMPRESSION:"games_login_xout_social_impression",GDPV4_RENDER:"gdpv4_render",GDPV4_EDITED_SCOPES:"gdpv4_edit_scopes",GDPV4_BUTTON_CLICK:"gdpv4_button_click",CLICK_TO_APPCENTER:"click_to_appcenter",PP_CREATE_INVITE:"pp_create_invite",PP_ACCEPT_INVITE:"pp_accept_invite",PP_DELETE_INVITES:"pp_delete_invites",PP_DELETE_ALL:"pp_delete_all",PP_BLOCK_APP:"pp_block_app",PP_BLOCK_USER:"pp_block_user",PP_UNBLOCK_APP:"pp_unblock_app",PP_UNBLOCK_USER:"pp_unblock_user",PP_ACCEPT_INVITE_ACTIVATE_APP:"pp_accept_invite_activate_app",GAMERANKER_REQUEST:"gameranker_request",GAMERANKER_RESPONSE:"gameranker_response",GAMERANKER_EXCEPTION:"gameranker_exception",GAMERANKER_TARGETING_SCORE:"gameranker_targeting_score",GAME_COLLABORATIVE_FILTERING_SCORE:"game_collaborative_filtering_score",NOTIFICATION_CONTENT_UPDATE_SEND:"notification_content_update_send",NOTIFICATION_CONTENT_UPDATE_SEND_TO_TURNOFF:"notification_content_update_send_to_turnoff",NOTIFICATION_CONTENT_UPDATE_CLICK:"notification_content_update_click",NOTIFICATION_CONTENT_UPDATE_IMPRESSION:"notification_content_update_impression",NOTIFICATION_CONTENT_UPDATE_TURN_OFF:"notification_content_update_turn_off",NOTIFICATION_CONTENT_UPDATE_UNDO_TURN_OFF:"notification_content_update_undo_turn_off",NOTIFICATION_CONTENT_UPDATE_MARK_SPAM:"notification_content_update_mark_spam",NOTIFICATION_CONTENT_UPDATE_FIRST_IMPRESSION:"notification_content_update_first_impression",NOTIFICATION_CONTENT_UPDATE_FIRST_YES:"notification_content_update_first_yes",NOTIFICATION_CONTENT_UPDATE_FIRST_IMPLICIT_YES:"notification_content_update_first_implicit_yes",NOTIFICATION_CONTENT_UPDATE_FIRST_NO:"notification_content_update_first_no",NOTIFICATION_A2U_SEND:"notification_a2u_send",NOTIFICATION_A2U_SEND_TO_TURNOFF:"notification_a2u_send_to_turnoff",NOTIFICATION_A2U_CLICK:"notification_a2u_click",NOTIFICATION_A2U_IMPRESSION:"notification_a2u_impression",NOTIFICATION_A2U_TURN_OFF:"notification_a2u_turn_off",NOTIFICATION_A2U_UNDO_TURN_OFF:"notification_a2u_undo_turn_off",NOTIFICATION_A2U_MARK_SPAM:"notification_a2u_mark_spam",NOTIFICATION_A2U_FIRST_IMPRESSION:"notification_a2u_first_impression",NOTIFICATION_A2U_FIRST_YES:"notification_a2u_first_yes",NOTIFICATION_GYML_EVALUATION:"notification_a2u_gyml_evaluation",LIVE_PLAYER_NOTIFICATION_SENT:"live_player_notification_sent",LIVE_PLAYER_NOTIFICATION_SEND_ATTEMPT:"live_player_notification_send_attempt",GAMER_CHAT_MESSAGE_SEND:"gamer_chat_message_send",GAMER_CHAT_MESSAGE_SENTRY_BLOCKED:"gamer_chat_message_sentry_blocked",GAMER_CHAT_MESSAGE_HIDDEN:"gamer_chat_message_hidden",GAMER_CHAT_MESSAGE_UNHIDDEN:"gamer_chat_message_unhidden",GAMER_CHAT_MESSAGE_SENDER_BLOCKED:"gamer_chat_message_blocked",GAMER_CHAT_MESSAGE_SENDER_UNBLOCKED:"gamer_chat_message_unblocked",GAMER_CHAT_MESSAGE_SENDER_REPORTED:"gamer_chat_message_reported",GAMER_CHAT_USER_BANNED:"gamer_chat_user_banned",GAMER_CHAT_USER_UNBANNED:"gamer_chat_user_unbanned",GAME_ACHIEVEMENT_EARNED:"game_achievement_earned",RHC_SETTINGS_UNIT_APP_FAVORITED:"rhc_settings_unit_app_favorited",RHC_SETTINGS_UNIT_APP_UNFAVORITED:"rhc_settings_unit_app_unfavorited",RHC_SETTINGS_UNIT_APP_SHARE_CLICKED:"rhc_settings_unit_app_share_clicked",RHC_SETTINGS_UNIT_APP_PRIVACY_SETTINGS_CLICKED:"rhc_settings_unit_app_privacy_settings_clicked",RHC_SETTINGS_UNIT_APP_UNINSTALL_CLICKED:"rhc_settings_unit_app_uninstall_clicked",RHC_SETTINGS_UNIT_APP_FULLSCREENED:"rhc_settings_unit_app_fullscreened",GYML_REQUEST:"gyml_request",GYML_ERROR:"gyml_error",GYML_NO_MODEL:"gyml_no_model",GYML_RESULT:"gyml_result",GAMEROOM_DOT_COM_PAGE_VIEW:"gameroom_dot_com_page_view",GAMES_DESKTOP_EXCEPTION:"games_desktop_exception",GAMES_DESKTOP_MAIN_FRAME_URL:"games_desktop_main_frame_url",GAMES_DESKTOP_OPENED_APP:"games_desktop_opened_app",GAMES_DESKTOP_UPDATE_STEP:"games_desktop_update_step",GAMES_DESKTOP_APP_INSTALLED:"games_desktop_app_installed",GAMES_DESKTOP_CONTROL_USED:"games_desktop_control_used",GAMES_DESKTOP_GAME_SHORTCUT_USED:"games_desktop_game_shortcut_used",GAMES_DESKTOP_GAME_SHORTCUT_CREATED:"games_desktop_game_shortcut_created",GAMES_DESKTOP_LOGGED_IN:"games_desktop_logged_in",GAMES_DESKTOP_LOGGED_OUT:"games_desktop_logged_out",GAMES_DESKTOP_FLASH_NOT_INSTALLED:"games_desktop_flash_not_installed",GAMES_DESKTOP_APP_DOWNLOADED:"games_desktop_app_downloaded",GAMES_DESKTOP_APP_DOWNLOAD_UNIT_IMPRESSION:"games_desktop_app_download_unit_impression",GAMES_DESKTOP_APP_UNINSTALLED:"games_desktop_app_uninstalled",GAMES_DESKTOP_LEARN_MORE_DIALOG_IMPRESSION:"games_desktop_learn_more_dialog_impression",GAMES_DESKTOP_FEEDBACK:"games_desktop_feedback",GAMES_DESKTOP_APP_UNINSTALLED_FAILED_CHECK:"games_desktop_app_uninstalled_failed_check",GAMES_DESKTOP_CLOSED_APP:"games_desktop_closed_app",GAMES_DESKTOP_RENDER_PROCESS_TERMINATED:"games_desktop_render_process_terminated",GAMES_DESKTOP_NONCE_CREATION_FAILED:"games_desktop_nonce_creation_failed",GAMES_DESKTOP_AUTO_LOGIN_FAILED:"games_desktop_auto_login_failed",GAMES_DESKTOP_AUTO_LOGIN_SUCCEEDED:"games_desktop_auto_login_succeeded",GAMES_DESKTOP_TOAST_EVENT:"games_desktop_toast_event",GAMES_DESKTOP_NOTIF_ACTION:"games_desktop_notif_action",GAMES_DESKTOP_AUTO_LOGIN_AVAILABLE:"games_desktop_auto_login_available",GAMES_DESKTOP_SETTINGS_CHANGE:"games_desktop_settings_change",GAMES_DESKTOP_LANDING_PAGE_VIEW:"games_desktop_landing_page_view",GAMES_DESKTOP_LANDING_PAGE_MOBILE_VIEW:"games_desktop_landing_page_mobile_view",GAMES_DESKTOP_SYSTEM_PERFORMANCE:"games_desktop_system_performance",GAMES_DESKTOP_DOWNLOADER_STATE:"games_desktop_downloader_state",GAMES_DESKTOP_DOWNLOADER_EXCEPTION:"games_desktop_downloader_exception",GAMES_DESKTOP_LOAD_ERROR:"games_desktop_load_error",GAMES_DESKTOP_NOTIF_POLL:"games_desktop_notif_poll",GAMES_DESKTOP_NATIVE_GAME_STATE:"games_desktop_native_game_state",GAMES_DESKTOP_HARDWARE_DATA:"games_desktop_hardware_data",GAMES_DESKTOP_CAN_INTERACT:"games_desktop_can_interact",GAMES_DESKTOP_BROWSER_INITIALIZED:"games_desktop_browser_initialized",GAMES_DESKTOP_CAUGHT_EXCEPTION:"games_desktop_caught_exception",GAMES_DESKTOP_UNCAUGHT_EXCEPTION:"games_desktop_uncaught_exception",GAMES_DESKTOP_ENTER_FULLSCREEN:"games_desktop_enter_fullscreen",GAMES_DESKTOP_LEAVE_FULLSCREEN:"games_desktop_leave_fullscreen",GAMES_DESKTOP_TOOK_SCREENSHOT:"games_desktop_took_screenshot",GAMES_DESKTOP_SCREENSHOT_NUX_SHOWN:"games_desktop_screenshot_nux_shown",GAMES_DESKTOP_PROMO_MODAL_WINDOW_IMPRESSION:"games_desktop_promo_modal_window_impression",GAMES_DESKTOP_FEED_DIALOG:"games_desktop_feed_dialog",GAMES_DESKTOP_GAMER_CHAT_IMPRESSION:"games_desktop_gamer_chat_impression",GAMES_DESKTOP_ERROR_BOUNDARY_CATCH:"games_desktop_error_boundary_catch",GAMES_DESKTOP_LIVE_STATE:"games_desktop_live_state",ARCADE_USER_DROPDOWN_CLICK:"arcade_user_dropdown_click",ARCADE_ABOUT_VIEW_CLICK:"arcade_about_view_click",ARCADE_CONTACT_FORM_CLICK:"arcade_contact_form_click",ARCADE_BB_NOTIFICATIONS_CLICK:"arcade_bb_notifications_click",ARCADE_LHC_BROWSE_CLICK:"arcade_lhc_browse_click",ARCADE_LHC_GO_LIVE_CLICK:"arcade_lhc_go_live_click",ARCADE_LHC_INSTANT_GAMES_CLICK:"arcade_lhc_instant_games_click",ARCADE_LHC_WATCH_CLICK:"arcade_lhc_watch_click",ARCADE_LHC_MYGAMES_CLICK:"arcade_lhc_mygames_click",ARCADE_LHC_FEED_CLICK:"arcade_lhc_feed_click",ARCADE_LHC_PLAYQUEUE_CLICK:"arcade_lhc_playqueue_click",ARCADE_MYGAMES_DD_CLICK_DETAILS:"arcade_mygames_dd_click_details",ARCADE_MYGAMES_DD_CLICK_FOOTER:"arcade_mygames_dd_click_footer",ARCADE_HOMEPAGE_DD_CLICK_DETAILS:"arcade_homepage_dd_click_details",ARCADE_HOMEPAGE_DD_CLICK_FOOTER:"arcade_homepage_dd_click_footer",ARCADE_PAYMENT_WEBSITE_CLICK:"arcade_payment_website_click",ARCADE_SEARCH_DD_CLICK_DETAILS:"arcade_search_dd_click_details",ARCADE_SEARCH_DD_CLICK_FOOTER:"arcade_search_dd_click_footer",ARCADE_GAMETILE_GAMETAG_CLICK:"arcade_gametile_gametag_click",ARCADE_GAMETILE_XOUT_CLICK:"arcade_gametile_xout_click",ARCADE_DD_XOUT_CLICK:"arcade_dd_xout_click",ARCADE_DD_PLAYNOW_CLICK:"arcade_dd_playnow_click",ARCADE_DD_GAME_UNSAVED:"arcade_dd_game_unsaved",ARCADE_DD_GAME_SAVED:"arcade_dd_game_saved",ARCADE_DD_SLIDES_CLICK_RIGHT:"arcade_dd_slides_click_right",ARCADE_DD_SLIDES_CLICK_LEFT:"arcade_dd_slides_click_left",ARCADE_DD_SCREENSHOT_CLICK:"arcade_dd_screenshot_click",ARCADE_WELCOME_OVERLAY_IMPRESSION:"arcade_welcome_overlay_impression",ARCADE_NUX_TOUR_DISMISSED:"arcade_nux_tour_dismissed",ARCADE_NUX_TOUR_STARTED:"arcade_nux_tour_started",ARCADE_NUX_TOUR_COMPLETED:"arcade_nux_tour_completed",ARCADE_AUTOMATIC_GAME_LAUNCH:"arcade_automatic_game_launch",ARCADE_LIVESTREAM_CLICK:"arcade_livestream_click",ARCADE_LIVESTREAM_IMPRESSION:"arcade_livestream_impression",ARCADE_LIVESTREAM_MOUSEOVER:"arcade_livestream_mouseover",ARCADE_LIVESTREAM_WATCH_TIME:"arcade_livestream_watch_time",GAMES_RATING_PROMPT_CLOSE:"games_rating_prompt_close",GAMES_RATING_PROMPT_RATE:"games_rating_prompt_rate",GAMES_RATING_PROMPT_SHOW:"games_rating_prompt_show",GAMES_PERSONA_ADD_DIALOG_START:"games_persona_add_dialog_start",GAMES_RECOMMEND_PROMPT_RECOMMEND:"games_recommend_prompt_recommend",GAMES_RECOMMEND_PROMPT_SHOW:"games_recommend_prompt_show",GAMES_RECOMMEND_PROMPT_CLOSE:"games_recommend_prompt_close",GIULIANI_REPORT_SUBMITTED:"giuliani_report_submitted",CHANGED_APPCENTER_APPROVED_STATE:"changed_appcenter_approved_state",RESTRICTED_ORGANIC_RECOMMENDATIONS:"restricted_organic_recommendations",FEED_GAMES_DIGEST_SUBSCRIBED:"feed_games_digest_subscribe",FEED_GAMES_DIGEST_UNSUBSCRIBED:"feed_games_digest_unsubscribe",GAME_PLAYED_5S:"game_played_5s",GAME_PLAYED_10S:"game_played_10s",GAME_PLAYED_30S:"game_played_30s",GAME_PLAYED_1M:"game_played_1m",GAME_PLAYED_2M:"game_played_2m",GAME_PLAYED_5M:"game_played_5m",ARCADE_MIGRATION_PAGE_LOADED:"arcade_migration_page_loaded",ARCADE_MIGRATION_LAUNCH_CLICKED:"arcade_migration_launch_clicked",ARCADE_MIGRATION_MANUAL_BYPASS:"arcade_migration_manual_bypass",ARCADE_MIGRATION_AUTO_BYPASS:"arcade_migration_auto_bypass",GAME_TAB_REC_GRID_CONTENT_REQUESTED:"game_tab_rec_grid_content_requested",IMAGE_ASSET_CLICK:"image_asset_click",IMAGE_ASSET_IMPRESSION:"image_asset_impression",MOUSEOVER:"mouseover",MOUSEOUT:"mouseout",THROTTLED_CANVAS_VISIT:"throttled_canvas_visit",THROTTLED_APPCENTER_VISIT:"throttled_appcenter_visit",THROTTLED_OAUTH_VISIT:"throttled_oauth_visit",GAME_TIME_START:"game_time_start",GAME_TIME_END:"game_time_end",CHAINED_ARTICLE_APP_CENTER_IMPRESSION:"chained_article_app_center_impression",GAMES_UNHANDLED_JS_EXCEPTION:"games_unhandled_js_exception",GAMES_SHOW_GIFT_BUTTON:"games_show_gift_button",GAMES_SHOW_GIFT_BUTTON_CLICK:"games_show_gift_button_click",GAMES_BUY_GIFT:"games_buy_gift",GAMES_ACCEPT_GIFT:"games_accept_gift",GAMES_DECLINE_GIFT:"games_decline_gift",GAMES_RESPONSE_HEADER:"games_response_header",INSTANT_GAMES_TEEN_TARGETING:"instant_games_teen_targeting",INVITABLE_FRIENDS_EDGE_HIT:"invitable_friends_edge_hit",TAGGABLE_FRIENDS_EDGE_HIT:"taggable_friends_edge_hit",FOUR_OH_FOUR_HIT:"404_hit",DIVEBAR_INFO:"divebar_info"})}),null);
__d("AppInstallLogger",["AppInstallLoggerEvents","Banzai","ErrorUtils"],(function(a,b,c,d,e,f,g,h,i){__p&&__p();var j="app_install";a.prototype.init=function(){"use strict";i.addListener(function(a){a={error_message:a.message,error_type:a.name,error_data:JSON.stringify(a),stack_trace:a.stack};this.log(g.GAMES_UNHANDLED_JS_EXCEPTION,null,a)}.bind(this))};a.prototype.log=function(event,a,b){"use strict";h.post(j,babelHelpers["extends"]({app_id:a,event:event},b||{}))};function a(){"use strict"}e.exports=new a()}),null);
__d("XdArbiterBuffer",[],(function(a,b,c,d,e,f){a.XdArbiter||(a.XdArbiter={_m:[],_p:[],register:function(a,b,c){b=b||(/^apps\./.test(location.hostname)?"canvas":"tab");this._p.push([a,b,c]);return b},handleMessage:function(a,b){this._m.push([a,b])}})}),null);
__d("CanvasIFrameLoader",["Banzai","$","XdArbiterBuffer"],(function(a,b,c,d,e,f,g,h){__p&&__p();b("XdArbiterBuffer");a={loadFromForm:function(a,b,c){__p&&__p();var d=h("iframe_canvas");if(b&&!i()){b.style.display="block";d.style.display="none";return}var e=Date.now();d.onload=function(){var a=Date.now();a=a-e;g.post("canvas_iframe_load",{app_id:c,iframe_time_to_load:a})};a.submit()}};function i(){try{var a=document.createElement("canvas");return Boolean(window.WebGLRenderingContext)&&Boolean(a.getContext("webgl")||a.getContext("experimental-webgl"))}catch(a){return!1}}e.exports=a}),null);
__d("PlatformDialog",["CSS","DOMEvent","DOMEventListener","cx"],(function(a,b,c,d,e,f,g,h,i,j){__p&&__p();var k;a.getInstance=function(){"use strict";return k};function a(a,b,c){"use strict";k=this,this.$1=a,this.$2=b,this.$3=!1,i.add(this.$1,"submit",function(b){if(this.$3){new h(b).kill();return}this.$3=!0;c&&g.addClass(a,"_32qa")}.bind(this))}a.prototype.getForm=function(){"use strict";return this.$1};a.prototype.getDisplay=function(){"use strict";return this.$2};a.prototype.hasBeenSubmitted=function(){"use strict";return this.$3};a.RESPONSE="platform/dialog/response";e.exports=a}),null);
__d("PlatformBaseVersioning",["PlatformVersions","StrSet","getObjectValues","invariant"],(function(a,b,c,d,e,f,g,h,i,j){__p&&__p();var k=new h(i(g.versions));b=location.pathname;c=b.substring(1,b.indexOf("/",1));var l=k.contains(c)?c:g.versions.UNVERSIONED;function m(a,b){if(b==g.versions.UNVERSIONED)return a;k.contains(b)||j(0);a.indexOf("/")!==0&&(a="/"+a);return"/"+b+a}function a(a){return k.contains(a.substring(1,a.indexOf("/",1)))?a.substring(a.indexOf("/",1)):a}d={addVersionToPath:m,getLatestVersion:function(){return g.LATEST},versionAwareURI:function(a){return a.setPath(m(a.getPath(),l))},versionAwarePath:function(a){return m(a,l)},getUnversionedPath:a};e.exports=d}),null);
__d("Popup",[],(function(a,b,c,d,e,f){a={open:function(a,b,c,d){var e=document.body,f="screenX"in window?window.screenX:window.screenLeft,g="screenY"in window?window.screenY:window.screenTop,h="outerWidth"in window?window.outerWidth:e.clientWidth;e="outerHeight"in window?window.outerHeight:e.clientHeight-22;f=Math.floor(f+(h-b)/2);h=Math.floor(g+(e-c)/2.5);g=["width="+b,"height="+c,"left="+f,"top="+h,"scrollbars"];return window.open(a,d||"_blank",g.join(","))}};e.exports=a}),null);
__d("PopupWindow",["DOMDimensions","DOMQuery","Layer","Popup","getViewportDimensions"],(function(a,b,c,d,e,f,g,h,i,j,k){__p&&__p();var l={_opts:{allowShrink:!0,strategy:"vector",timeout:100,widthElement:null},init:function(a){Object.assign(l._opts,a),setInterval(l._resizeCheck,l._opts.timeout)},_resizeCheck:function(){__p&&__p();var a=k(),b=l._getDocumentSize(),c=i.getTopmostLayer();if(c){c=c.getRoot().firstChild;var d=g.getElementDimensions(c);d.height+=g.measureElementBox(c,"height",!0,!0,!0);d.width+=g.measureElementBox(c,"width",!0,!0,!0);b.height=Math.max(b.height,d.height);b.width=Math.max(b.width,d.width)}c=b.height-a.height;d=b.width-a.width;d<0&&!l._opts.widthElement&&(d=0);d=d>1?d:0;!l._opts.allowShrink&&c<0&&(c=0);if(c||d)try{window.console&&window.console.firebug&&!1,window.resizeBy(d,c),d&&window.moveBy(d/-2,0)}catch(a){}},_getDocumentSize:function(){var b=g.getDocumentDimensions();l._opts.strategy==="offsetHeight"&&(b.height=document.body.offsetHeight);if(l._opts.widthElement){var c=h.scry(document.body,l._opts.widthElement)[0];c&&(b.width=g.getElementDimensions(c).width)}c=a.Dialog;c&&c.max_bottom&&c.max_bottom>b.height&&(b.height=c.max_bottom);return b},open:function(a,b,c,d){return j.open(a,c,b,d)}};e.exports=l}),null);
__d("PlatformDialogClient",["Arbiter","AsyncDialog","AsyncRequest","DOMEventListener","PlatformBaseVersioning","PlatformDialog","PopupWindow","QueryString","URI","UserAgent_DEPRECATED","guid"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){__p&&__p();var r=575,s="FB_DIALOG_RESPONSE";h.getLoadingDialog().setWidth(r);j.add(window,"message",function(event){/\.facebook\.com$/.test(event.origin)&&new RegExp("^"+s+":").test(event.data)&&g.inform(l.RESPONSE,JSON.parse(event.data.substr(s.length+1)))});var t={};g.subscribe(l.RESPONSE,function(event,a){var b=a.state;t[b]&&(t[b].callback(a),a.state=t[b].state,delete t[b])},g.SUBSCRIBE_NEW);function u(a){return function(){g.inform(l.RESPONSE,babelHelpers["extends"]({state:a},v.REQUEST_ABORTED_ERROR))}}var v={REQUEST_ABORTED_ERROR:{error_code:-200,error_message:"Request aborted."},async:function(a,b,c){var d=q(),e=b.state;b.state=d;b.redirect_uri=new o("/dialog/return/arbiter").setSubdomain("www").setFragment(n.encode({origin:b.redirect_uri})).getQualifiedURI().toString();b.display="async";t[d]={callback:c||function(){},state:e};h.send(new i(this.getURI(a,b)).setMethod("GET").setReadOnly(!0).setAbortHandler(u(d)))},popup:function(a,b,c,d,e){__p&&__p();var f=q(),g=c.state;c.state=f;c.client_id=c.app_id=b;c.redirect_uri=new o("/dialog/return/arbiter").setSecure(o.getRequestURI().isSecure()).setSubdomain("www").setFragment(n.encode({origin:c.redirect_uri})).addQueryData(d||{}).addQueryData({relation:"opener",close:!0}).toString();c.display=p.mobile()?"touch":"popup";t[f]={callback:e||function(){},state:g};b=o.getRequestURI();d=b.getDomain();f=d.replace("developers","www");m.open(new o(this.getURI(a,c)).setDomain(f).setProtocol("https").toString(),210,r)},getURI:function(a,b){if(b.version){var c=new o("/"+b.version+"/dialog/"+a);delete b.version;return c.addQueryData(b)}return k.versionAwareURI(new o("/dialog/"+a).addQueryData(b))}};e.exports=v}),null);
__d("PlatformDialogResize",["DialogPosition","DOMDimensions","Layer","getElementPosition","getViewportDimensions","throttle"],(function(a,b,c,d,e,f,g,h,i,j,k,l){__p&&__p();g.setFixedTopMargin(40);var m=[],n,o;function p(a){return function(b){return b[a]}}function q(a){return Math.max.apply(null,a)}function r(a,b){return h.measureElementBox(a,b,!0,!0,!0)}function s(a){var b=h.getElementDimensions(a),c=j(a);return{width:c.x+b.width+r(a,"right"),height:c.y+b.height+r(a,"bottom")}}function t(){return m.map(function(a){return a.isShown()&&a.getContentRoot()?s(a.getRoot().children[0]):{width:0,height:0}})}var u=l(function(){var a=k(),b=h.getDocumentDimensions();b=t().concat(b,a,n);var c=q(b.map(p("width")))-a.width;b=q(b.map(p("height")))-a.height;try{window.resizeBy(c,b),window.moveBy(c/-2,0)}catch(a){}},200);i.subscribe("show",function(event,a){m.length===0&&(o=setInterval(u,200)),m.push(a),u()});i.subscribe("hide",function(event,a){a=m.indexOf(a);a!==-1&&(m.splice(a,1),u());m.length===0&&(clearInterval(o),o=null)});a={auto:function(a,b){n={width:a,height:b},u(),setTimeout(u,250)}};e.exports=a}),null);
__d("XPlatformXOutableElementController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/platform/async/xoutelement/",{type:{type:"Enum",required:!0,enumType:0},fbid:{type:"Int",required:!0}})}),null);
__d("PlatformElementXOut.react",["AsyncRequest","DOM","DOMContainer.react","GamesXOut.react","React","ReactDOM","XPlatformXOutableElementController"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m){__p&&__p();var n;b=k.PropTypes;c=babelHelpers.inherits(a,k.Component);n=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=n.constructor).call.apply(a,[this].concat(d)),this.$1=function(){var a=m.getURIBuilder().setEnum("type",this.props.type).setInt("fbid",this.props.fbid).getURI();new g(a).setMethod("POST").send();a=l.findDOMNode(this).parentNode.parentNode;l.unmountComponentAtNode(a);h.remove(a)}.bind(this),b}a.prototype.render=function(){"use strict";var a=k.createElement(i,null,this.props.domChild);return k.createElement(j,{onClick:this.$1},a)};a.propTypes={type:b.string.isRequired,fbid:b.string.isRequired,domChild:b.object.isRequired};e.exports=a}),null);
__d("XGamerGraphMarkUserPlaysFBAppController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/gamer-graph/mark-user-plays-fb-app/",{})}),null);
__d("GamerGraphMarkUserPlaysFBApp",["AsyncRequest","XGamerGraphMarkUserPlaysFBAppController"],(function(a,b,c,d,e,f,g,h){"use strict";e.exports.mark=function(a){var b=h.getURIBuilder().getURI();new g().setURI(b).setData({app_id:a}).send()}}),null);
__d("CanvasNavigationFullScreen",["AppInstallLogger","AppInstallLoggerEvents","Arbiter","CSS","Event","FullScreen","cx"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m){__p&&__p();var n=!1,o=null;a={initLink:function(a,b){if(n)return;else n=!0;o=a;j.conditionClass(b,"_4-os",l.isSupported());k.listen(b,"click",this.setFullScreen.bind(null,!0));l.subscribe("changed",function(){l.isFullScreen()?i.inform("canvas.enter_fullscreen"):i.inform("canvas.exit_fullscreen")})},isSupported:function(){var a=n&&l.isSupported();return!!a},getFullScreen:function(){return!!l.isFullScreen()},setFullScreen:function(a){!0;a?(g.log(h.RHC_SETTINGS_UNIT_APP_FULLSCREENED,o),a=l.enableFullScreen(document.getElementById("iframe_canvas"))):a=l.disableFullScreen();return a}};e.exports=a}),null);
__d("XAppFriendsController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/platform/games/appfriends/",{app_id:{type:"Int",required:!0}})}),null);
__d("CanvasPresenceController",["Arbiter","AsyncRequest","AvailableList","AvailableListConstants","PresenceStatus","XAppFriendsController"],(function(a,b,c,d,e,f,g,h,i,j,k,l){__p&&__p();var m=60*1e3,n=!1,o=[],p=0,q,r,s,t;function u(){var a=0;o.forEach(function(b){k.get(b)==j.ACTIVE&&a++});(s===undefined||s!==a>1)&&(s=a>1,g.inform("canvas.friendsOnlineUpdated",s))}function v(a){var b=l.getURIBuilder().setInt("app_id",p).getURI();new h().setURI(b).setHandler(function(b){o=b.payload.ids,a&&a(),u()}).send()}function w(){if(p===0){t=w;return}n=!0;v(function(){q=setInterval(v,m),r=i.subscribe(j.ON_AVAILABILITY_CHANGED,u)})}function x(){n=!1,clearInterval(q),i.unsubscribe(r)}a={setAppID:function(a){p=a,t&&t()},setAppFriends:function(a){o=a},useFriendsOnline:function(a){if(a==n)return;a?w():x()}};e.exports=a}),null);
__d("JSONRPC",["Log"],(function(a,b,c,d,e,f,g){__p&&__p();function a(a){"use strict";this.$1=0,this.$2={},this.remote=function(a){this.$3=a;return this.remote}.bind(this),this.local={},this.$4=a}a.prototype.stub=function(a){"use strict";this.remote[a]=function(){var b={jsonrpc:"2.0",method:a};for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];typeof d[d.length-1]==="function"&&(b.id=++this.$1,this.$2[b.id]=d.pop());b.params=d;this.$4(JSON.stringify(b),this.$3||{method:a})}.bind(this)};a.prototype.read=function(a,b){"use strict";__p&&__p();a=JSON.parse(a);var c=a.id;if(!a.method){if(!this.$2[c]){g.warn("Could not find callback %s",c);return}var d=this.$2[c];delete this.$2[c];delete a.id;delete a.jsonrpc;d(a);return}var e=this;d=this.local[a.method];var f;c?f=function(a,d){var f={jsonrpc:"2.0",id:c};f[a]=d;setTimeout(function(){e.$4(JSON.stringify(f),b)},0)}:f=function(){};if(!d){g.error('Method "%s" has not been defined',a.method);f("error",{code:-32601,message:"Method not found",data:a.method});return}a.params.push(f.bind(null,"result"));a.params.push(f.bind(null,"error"));try{d=d.apply(b||null,a.params);typeof d!=="undefined"&&f("result",d)}catch(b){g.error("Invokation of RPC method %s resulted in the error: %s",a.method,b.message),f("error",{code:-32603,message:"Internal error",data:b.message})}};e.exports=a}),null);
__d("XdArbiter",["Arbiter","Log","QueryString","Queue"],(function(a,b,c,d,e,f,g,h,i,j){__p&&__p();var k=/^apps\./.test(location.hostname)?"canvas":"tab",l={},m=[],n=new j();b={setRpcHandler:function(a){n.start(a)},handleMessage:function(a,b,c){__p&&__p();try{if(typeof a==="string"){if(/^FB_RPC:/.test(a)){n.enqueue([a.substring(7),{origin:b,source:c||l[k]}]);return}a=JSON.parse(a)}if(!a.method)return;typeof a.params==="string"&&(a.params=JSON.parse(a.params));g.inform("Connect.Unsafe."+a.method,a.params,g.BEHAVIOR_PERSISTENT)}catch(a){}},register:function(a,b,c){b=b||k;g.inform("XdArbiter/register",{origin:c});l[b]=a;l[c]=a;g.inform("XdArbiter.register",b,g.BEHAVIOR_PERSISTENT);this.scheduleDispatch();return b},scheduleDispatch:function(){var a=this,b=42;function c(){var d=m.shift();d&&a.send.apply(a,d);m.length&&setTimeout(c,b)}setTimeout(c,b)},hasProxy:function(a){a=a||k;return!!l[a]},send:function(a,b,c){var d=c in l?c:k;b=b||l[d];typeof a!=="string"&&(a=i.encode(a));try{b.proxyMessage(a,c)}catch(a){h.debug("XdArbiter: Proxy for %s not available, page might have been navigated: %s",d,a.message),delete l[d]}return!0}};c=a.XdArbiter;a.XdArbiter=b;if(c){if(c._p.length)while(c._p.length)b.register.apply(b,c._p.shift());if(c._m.length)while(c._m.length)b.handleMessage.apply(b,c._m.shift())}e.exports=b}),null);
__d("PlatformAppController",["Arbiter","AsyncRequest","Bootloader","CanvasNavigationFullScreen","CanvasPresenceController","CSS","CurrentUser","Dialog","JSONRPC","PlatformDialogABTest","PlatformDialogClient","PlatformDialogWhitelistedParams","Style","URI","Vector","XdArbiter","errorCode","ge"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x){__p&&__p();var y={oauth:!0,test_flow:!0,app_requests:!0,game_group_create:!0,game_group_join:!0,gift:!0,feed:!0,share:!0,share_open_graph:!0,payer_promotion:!0,payerpromotion:!0,payment_module:!0,payment_module_iap:!0,payment_subscription:!0},z,A,B=!0,C=0,D=!1,E,F=!1,G=window._cstart,H=0,I,J,K={},L=new o(function(a,b){v.send("FB_RPC:"+a,b.source||x(z).contentWindow.frames["fb_xdm_frame_"+location.protocol.replace(":","")],b.origin||A)});g.subscribe("XdArbiter/register",function(a,b){I&&b.origin!=A&&new h().setURI("/platform/app_owned_url_check/").setData({appid:I,url:b.origin}).setHandler(function(a){a=a.getPayload();a.allowed&&(A=b.origin)}).send()});function b(a){var b=parseInt(a.x,10);a=parseInt(a.y,10);b>=0&&a>=0&&window.scrollTo(b,a)}function c(a){var b=x(a.frame.replace(/_fb_https$/,""));b&&(l.addClass(b,"noresize"),b.style.height=a.height+"px")}function d(){var a=x(z),b=0,c=0;while(a)b+=parseInt(a.offsetLeft,10),c+=parseInt(a.offsetTop,10),a=a.offsetParent;a=u.getViewportDimensions();var d=u.getScrollPosition();return{clientWidth:a.x,clientHeight:a.y,scrollLeft:d.x,scrollTop:d.y,offsetLeft:b,offsetTop:c}}function M(a,b){if(!r[b])return a;var c={};r.common.forEach(function(b){c[b]=a[b]});r[b].forEach(function(b){c[b]=a[b]});return c}function f(a,b,c){__p&&__p();var d=a.method;delete a.method;delete a.access_token;delete a.next;delete a.context;delete a.locale;a.display="async";if(!/^[\w\-_.]+$/.test(d))throw new Error("Malformed method name");Object.keys(a).forEach(function(b){if(/[\s\x80-\x9f]/.test(b))delete a[b];else if(/\./.test(b)){var c=b.replace(/\./g,"_");Object.prototype.hasOwnProperty.call(a,c)&&delete a[b]}});(!a.redirect_uri||new t(a.redirect_uri).getOrigin()!=new t(this.origin).getOrigin())&&(a.redirect_uri=this.origin);d=="apprequests"&&(d="app_requests",a.context="canvas_app_requests");if(d=="pay"){var e=a.action;(e==="purchaseitem"||e==="purchase_item")&&J&&J.usePaymentModules&&(d="payment_module",a.action="payment_module");e==="purchaseiap"&&J&&J.iapUsePaymentModule&&(d="payment_module_iap",a.action="payment_module_iap");e==="purchaseitem"||e==="purchase_item"||e==="purchaseiap"?y[d]=!0:J&&J.useNewPayDialog&&(e==="create_subscription"||e==="createsubscription"||e==="changesubscription"||e==="modifysubscription"||e==="cancelsubscription"||e==="reactivatesubscription"||e==="settlesubscription")?(d="payment_subscription",e==="create_subscription"&&(a.action="createsubscription")):y[d]=!1}d=="fbpromotion"&&(d="payer_promotion",a.action="payer_promotion");d==="stream_publish"&&(d="stream.publish");(d=="permissions.oauth"||d=="permissions.request"||d=="oauth")&&(d="oauth");d==="stream.publish"&&(y[d]=!!p.share_dialog_delegate_stream_publish_dialog);a=M(a,d);if(y[d]){var f=a.redirect_uri;q.async(d,a,function(c){c.error_code==1340004?m.getID()&&m.getID()!="0"?b(c):new t("/login.php").addQueryData("next",t.getRequestURI().toString()).go():d=="app_requests"&&c.error_code==1349146?N(d,a,b,c,f):b(c)});return}e=new t("/fbml/ajax/dialog/"+d.replace(/\./g,"_")).setQueryData(a);e=new h().setMethod("GET").setReadOnly(!0).setURI(e).setAbortHandler(function(){c(q.REQUEST_ABORTED_ERROR)});new n().setAsync(e).setModal(!0).setWideDialog(!0).show().setCloseHandler(b)}function N(a,b,c,d,e){b.redirect_uri=e,q.async("oauth",b,function(f){f.error?c(d):(b.redirect_uri=e,q.async(a,b,function(a){c(a)}))})}function w(a){D=a}function O(a,b){F=a,E=b}L.stub("navigate");function P(a){if(D){L.remote.navigate(a);return!0}return!1}L.stub("enterFullScreen");g.subscribe("canvas.enter_fullscreen",L.remote.enterFullScreen);L.stub("exitFullScreen");g.subscribe("canvas.exit_fullscreen",L.remote.exitFullScreen);L.stub("fireEvent");g.subscribe("canvas.friendsOnlineUpdated",L.remote.fireEvent.bind(L.remote));function Q(a){var b=a.time-G+H;switch(a.name){case"StopIframeAppTtiTimer":H=b;return{time_delta_ms:b,type:"tti"};case"StartIframeAppTtiTimer":G=a.time;break;case"RecordIframeAppTti":F&&i.loadModules(["CanvasIFrameLogger"],function(c){c.log(b,a.appId,E)},"PlatformAppController");return{time_delta_ms:b,type:"tti"}}}L.local.setSize=c;L.local.getPageInfo=d;L.local.scrollTo=b;L.local.showDialog=f;L.local.setNavigationEnabled=w;L.local.isFullScreenSupported=j.isSupported;L.local.getFullScreen=j.getFullScreen;L.local.logTtiMessage=Q;L.local.useFriendsOnline=k.useFriendsOnline.bind(k);v.setRpcHandler(function(a){L.read.apply(L,a)});L.stub("hidePluginObjects");g.subscribe("layer_shown",function(){++C===1&&(B?L.remote.hidePluginObjects():s.set(x("pagelet_canvas_content"),"visibility","hidden"))});L.stub("showPluginObjects");g.subscribe("layer_hidden",function(){--C===0?B?L.remote.showPluginObjects():s.set(x("pagelet_canvas_content"),"visibility",""):C<0&&(C=0)});function R(a){K[a.name]=a;a=x(a.name);a&&(z=a)}o={setActiveIframeAndAppID:function(a,b,c){z=a,A=b,I=c,k.setAppID(I)},setInformAppOnLayerChange:function(a){B=a},setNavigationEnabled:w,setTtiEnabled:O,handleNavigation:P,init:R,getFrameParams:function(a){return K[a]},setConfig:function(a){J=a}};a.PlatformAppController=o;e.exports=o}),null);
__d("FavIcon",["DOM"],(function(a,b,c,d,e,f,g){__p&&__p();var h,i,j;function k(){var a=g.scry(document.head,"link");a&&a.forEach(function(a){(a.rel.indexOf("icon")!=-1||a.rel.indexOf("shortcut icon")!=-1)&&g.remove(a)})}a={isToggledResource:function(){return j&&h.href===j?!0:!1},set:function(a){h&&g.remove(h),k(),h=g.create("link",{type:"image/x-icon",rel:"icon",href:a}),g.appendContent(g.find(document,"head"),h)},setToggleResources:function(a,b){h=document.querySelector('link[rel*=icon][href*=".ico"]');if(!h)return;i=b||h.href;j=a},toggle:function(){if(!h||!j)return;if(h.href===i){this.set(j);return}this.set(i)},toggleSet:function(a){if(!h||!j||!i)return;a=a?j:i;h.href!==a&&this.set(a)}};e.exports=a}),null);
__d("PlatformCanvasController",["AsyncRequest","CSS","DocumentTitle","DOM","DOMEventListener","FavIcon","PageTransitions","PlatformAppController","UIPagelet","URI","UserActivity","fbt","ge"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){__p&&__p();var t="iframe_canvas",u=24e4,v=5e3,w=6e4,x,y,z,A,B,C,D;function E(a){var b=s("pagelet_canvas_content");h.hide(b);j.scry(b,"iframe").forEach(function(a){a.src=""});j.setContent(s("canvas_throbber_text"),r._("Loading {app-name}",[r._param("app-name",a)]))}function F(a,b,c,d){var e=s("pagelet_canvas_footer_content"),f=s("pagelet_canvas_content");j.setContent(f,a);j.setContent(e,b);h.show(f);i.set(c);l.set(d)}function G(a){__p&&__p();if(a.getSubdomain()!="apps")return!1;var b,c=j.scry(document,"a[data-appname]");for(var d=0;d<c.length;d++)if(c[d].href==a){b=c[d].getAttribute("data-appname");break}if(!b)return!1;c=a.getPath().split("/")[1];if(c=="l.php")return!1;E(b);d=a.getUnqualifiedURI();new g().setURI(new p("/ajax/canvas.php")).setData({fb_app_name:c,uri:d.toString()}).setMethod("GET").setReadOnly(!0).setStatusElement("canvas_throbber").setHandler(function(a){a=a.getPayload();h.conditionClass(document.body,"center_fixed_width_app",!a.is_liquid);F(a.main_html,a.footer_html,a.page_title,a.favicon);m.transitionComplete()}).send();return!0}function H(a){if(!String(a.getPath()).startsWith("/"+z+"/")&&!String(a.getPath()).startsWith("/"+y+"/"))return!1;a=a.getUnqualifiedURI();a.setPath("/"+a.getPath().split("/").slice(2).join("/"));return n.handleNavigation(a.toString())}function I(a){return H(a)||G(a)}function J(){var a=s("pagelet_ego_pane"),b=Date.now();a!==null&&x>0&&b-A>=u&&(A=b,o.loadFromEndpoint("WebEgoPane","pagelet_ego_pane",{pid:9,data:[y,++B]},{bundle:!1}))}q.subscribe(function(){var a=Date.now();a-A>=u-v&&setTimeout(J,v)});function K(){var a=Date.now();x>0&&a-C>=w&&(C=a,o.loadFromEndpoint("CanvasShowcaseSliderPagelet","pagelet_canvas_showcase",{pid:129,data:[y,++D]},{bundle:!1}))}function a(a,b,c,d,e){__p&&__p();x=c;A=Date.now();B=0;C=Date.now();D=0;y&&y!==a&&J();y=a;z=b;c=s(t);n.setConfig(e);c&&k.add(c,"load",function(){n.setNavigationEnabled(!1)});e&&e.displayShowcase&&setInterval(K,w);n.setInformAppOnLayerChange(!d);n.setNavigationEnabled(!1);m.registerHandler(I)}b={setup:a};e.exports=b}),null);
__d("XGameroomLandingPageController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/gameroom/download/",{at:{type:"String"},fbsource:{type:"Int"},video_id:{type:"FBID"},canvas_url:{type:"String"},app_id:{type:"FBID"}})}),null);